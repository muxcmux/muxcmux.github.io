webpackHotUpdate("app",{

/***/ "./js/snake.js":
/*!*********************!*\
  !*** ./js/snake.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Snake; });\nclass Snake {\n  constructor(element) {\n    this.element = element;\n    this.canvas = element.getElementsByTagName('canvas')[0];\n    this.setupCanvas();\n    this.setupGrid();\n    this.beginModal = element.getElementsByClassName('snake-begin-modal')[0];\n    this.endModal = element.getElementsByClassName('snake-end-modal')[0];\n    this.hiScore = element.getElementsByClassName('snake-hi-score')[0];\n    this.keyIsPressed = false;\n    this.baseSpeed = 8;\n    this.speedGainPerLevel = 4;\n    this.then = Date.now();\n    this.snakeArray;\n    this.direction, this.food;\n    this.score, this.level, this.speed;\n    this.now, this.then, this.elapsed, this.msPerFrame;\n    this.playing = false;\n    this.attachControls();\n  }\n\n  done() {\n    this.beginModal.classList.add('invisible');\n    this.endModal.classList.add('invisible');\n    this.ctx.clearRect(0, 0, this.width, this.height);\n  }\n\n  countdown() {\n    if (this.playing) return;\n    this.playing = true;\n    this.beginModal.classList.remove('invisible');\n    const text = [3, 2, 1, 'Go!'];\n    setTimeout(() => {\n      this.init();\n    }, 1e3 * text.length + 1);\n\n    for (let i = 0; i < text.length; i++) {\n      setTimeout(() => {\n        this.beginModal.textContent = text[i];\n      }, 1e3 * i);\n    }\n  }\n\n  getColor(color) {\n    return window.getComputedStyle(this.element.getElementsByClassName(color)[0]).color;\n  }\n\n  setupGrid() {\n    const idealCell = {\n      width: 20,\n      height: 20\n    };\n    const gridWidth = Math.round(this.width / idealCell.width);\n    const cellWidth = this.width / gridWidth;\n    const gridHeight = Math.round(this.height / idealCell.height);\n    const cellHeight = this.height / gridHeight;\n    const slots = [];\n\n    for (let i = 0; i < gridWidth; i++) {\n      for (let j = 0; j < gridHeight; j++) {\n        slots.push({\n          x: i,\n          y: j\n        });\n      }\n    }\n\n    this.grid = {\n      slots,\n      width: gridWidth,\n      height: gridHeight,\n      cell: {\n        width: cellWidth,\n        height: cellHeight\n      }\n    };\n  }\n\n  setupCanvas() {\n    const dpr = window.devicePixelRatio || 1;\n    const rect = this.canvas.getBoundingClientRect();\n    const rectWidth = rect.width;\n    const rectHeight = rect.height;\n    this.canvas.width = rectWidth * dpr;\n    this.canvas.height = rectHeight * dpr;\n    this.canvas.style.width = rectWidth + 'px';\n    this.canvas.style.height = rectHeight + 'px';\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.scale(dpr, dpr);\n    this.width = rectWidth;\n    this.height = rectHeight;\n  }\n\n  init() {\n    this.beginModal.classList.add('invisible');\n    this.endModal.classList.add('invisible');\n    this.playing = true;\n    this.direction = \"right\";\n    this.score = 0;\n    this.level = 0;\n    this.increaseLevel();\n    this.createSnake();\n    this.createFood();\n    this.loop = requestAnimationFrame(() => this.paint());\n  }\n\n  increaseLevel() {\n    this.level += 1;\n    this.speed = this.baseSpeed + this.level * this.speedGainPerLevel;\n    this.msPerFrame = 1000 / this.speed;\n  }\n\n  createSnake() {\n    this.snakeArray = [];\n    const length = 5;\n    const center = {\n      x: ~~(this.grid.width / 2),\n      y: ~~(this.grid.height / 2)\n    };\n\n    for (let i = length - 1; i >= 0; i--) {\n      this.snakeArray.push({\n        x: center.x + i,\n        y: center.y\n      });\n    }\n  }\n\n  getAvailableSlots() {\n    const availableSlots = [];\n\n    for (let i = 0; i < this.grid.slots.length; i++) {\n      const slot = this.grid.slots[i];\n\n      for (let s = 0; s < this.snakeArray.length; s++) {\n        const snake = this.snakeArray[s];\n\n        if (snake.x != slot.x && snake.y != slot.y) {\n          availableSlots.push(slot);\n        }\n      }\n    }\n\n    return availableSlots;\n  }\n\n  createFood() {\n    const slots = this.getAvailableSlots();\n    this.food = slots[~~(Math.random() * (slots.length - 1))];\n  }\n\n  blowUp(cell) {\n    cancelAnimationFrame(this.loop);\n\n    for (let i = cell; i < this.snakeArray.length; i++) {\n      this.paintCell(this.snakeArray[i].x, this.snakeArray[i].y, this.getColor('snake-cell-color'));\n    }\n\n    if (cell != this.snakeArray.length) {\n      this.paintCell(this.snakeArray[cell].x, this.snakeArray[cell].y, this.getColor('snake-dead-color'));\n      setTimeout(() => {\n        this.blowUp(cell + 1);\n      }, 20);\n    } else {\n      let txt = \"Weak.\";\n      if (this.score >= 10 && this.score < 20) txt = \"Srsly?\";\n      if (this.score >= 20 && this.score < 30) txt = \"Not bad!\";\n      if (this.score >= 30 && this.score < 40) txt = \"Awesome!\";\n      if (this.score >= 40 && this.score < 50) txt = \"Insane!\";\n      if (this.score >= 50 && this.score < 60) txt = \"Wicked!\";\n      if (this.score >= 60 && this.score < 70) txt = \"Outstanding!\";\n      if (this.score >= 70) txt = \"Get a life.\";\n      this.hiScore.textContent = txt + \" Hi score: \" + this.score;\n      this.endModal.classList.remove('invisible');\n      this.playing = false;\n    }\n  }\n\n  paint() {\n    this.now = Date.now();\n    this.elapsed = this.now - this.then;\n\n    if (this.elapsed > this.msPerFrame) {\n      this.then = this.now - this.elapsed % this.msPerFrame;\n      this.ctx.clearRect(0, 0, this.width, this.height);\n      let nx = this.snakeArray[0].x;\n      let ny = this.snakeArray[0].y;\n      if (this.direction == \"right\") nx++;else if (this.direction == \"left\") nx--;else if (this.direction == \"up\") ny--;else if (this.direction == \"down\") ny++;\n\n      if (nx <= -1 || nx >= this.grid.width || ny <= -1 || ny >= this.grid.height || this.checkCollision(nx, ny, this.snakeArray)) {\n        // Game over\n        this.blowUp(0);\n        return;\n      }\n\n      let tail;\n\n      if (nx == this.food.x && ny == this.food.y) {\n        tail = {\n          x: nx,\n          y: ny\n        };\n        this.score++;\n        if (!(this.score % 10)) this.increaseLevel();\n        this.createFood();\n      } else {\n        tail = this.snakeArray.pop();\n        tail.x = nx;\n        tail.y = ny;\n      }\n\n      this.snakeArray.unshift(tail);\n\n      for (let i = 0; i < this.snakeArray.length; i++) {\n        this.paintCell(this.snakeArray[i].x, this.snakeArray[i].y, this.getColor('snake-cell-color'));\n      }\n\n      this.paintCell(this.food.x, this.food.y, this.getColor('snake-food-color'));\n      const scoreText = \"Level: \" + this.level + \" Score: \" + this.score;\n      this.ctx.font = 'normal 12pt Menlo, Consolas, Courier';\n      this.ctx.textAlign = 'left';\n      this.ctx.fillStyle = this.getColor('snake-text-color');\n      this.ctx.fillText(scoreText, 5, this.height - 5);\n      this.keyIsPressed = false;\n    }\n\n    this.loop = requestAnimationFrame(() => this.paint());\n  }\n\n  paintCell(x, y, color) {\n    this.ctx.fillStyle = color;\n    this.ctx.fillRect(x * this.grid.cell.width, y * this.grid.cell.height, this.grid.cell.width, this.grid.cell.height);\n    this.ctx.strokeStyle = this.getColor('snake-border-color');\n    this.ctx.strokeRect(x * this.grid.cell.width, y * this.grid.cell.height, this.grid.cell.width, this.grid.cell.height);\n  }\n\n  checkCollision(x, y, array) {\n    for (let i = 0; i < array.length; i++) {\n      if (array[i].x == x && array[i].y == y) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  reverse() {\n    const tail = this.snakeArray.length - 1;\n    if (this.snakeArray[tail].x < this.snakeArray[tail - 1].x) this.direction = 'left';else if (this.snakeArray[tail].x > this.snakeArray[tail - 1].x) this.direction = 'right';else if (this.snakeArray[tail].y < this.snakeArray[tail - 1].y) this.direction = 'up';else if (this.snakeArray[tail].y > this.snakeArray[tail - 1].y) this.direction = 'down';\n    this.snakeArray.reverse();\n  }\n\n  attachControls() {\n    document.addEventListener('keydown', e => {\n      const key = e.keyCode;\n\n      if (!this.keyIsPressed) {\n        if (key == 37 && this.direction != \"right\") this.direction = \"left\";else if (key == 38 && this.direction != \"down\") this.direction = \"up\";else if (key == 39 && this.direction != \"left\") this.direction = \"right\";else if (key == 40 && this.direction != \"up\") this.direction = \"down\";else if (key == 67) this.reverse();\n      }\n\n      if ([37, 38, 39, 40, 67].includes(key)) {\n        e.preventDefault();\n        this.keyIsPressed = true;\n      }\n    });\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zbmFrZS5qcz9mOGMyIl0sIm5hbWVzIjpbIlNuYWtlIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiY2FudmFzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzZXR1cENhbnZhcyIsInNldHVwR3JpZCIsImJlZ2luTW9kYWwiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZW5kTW9kYWwiLCJoaVNjb3JlIiwia2V5SXNQcmVzc2VkIiwiYmFzZVNwZWVkIiwic3BlZWRHYWluUGVyTGV2ZWwiLCJ0aGVuIiwiRGF0ZSIsIm5vdyIsInNuYWtlQXJyYXkiLCJkaXJlY3Rpb24iLCJmb29kIiwic2NvcmUiLCJsZXZlbCIsInNwZWVkIiwiZWxhcHNlZCIsIm1zUGVyRnJhbWUiLCJwbGF5aW5nIiwiYXR0YWNoQ29udHJvbHMiLCJkb25lIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3R4IiwiY2xlYXJSZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJjb3VudGRvd24iLCJyZW1vdmUiLCJ0ZXh0Iiwic2V0VGltZW91dCIsImluaXQiLCJsZW5ndGgiLCJpIiwidGV4dENvbnRlbnQiLCJnZXRDb2xvciIsImNvbG9yIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlkZWFsQ2VsbCIsImdyaWRXaWR0aCIsIk1hdGgiLCJyb3VuZCIsImNlbGxXaWR0aCIsImdyaWRIZWlnaHQiLCJjZWxsSGVpZ2h0Iiwic2xvdHMiLCJqIiwicHVzaCIsIngiLCJ5IiwiZ3JpZCIsImNlbGwiLCJkcHIiLCJkZXZpY2VQaXhlbFJhdGlvIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3RXaWR0aCIsInJlY3RIZWlnaHQiLCJzdHlsZSIsImdldENvbnRleHQiLCJzY2FsZSIsImluY3JlYXNlTGV2ZWwiLCJjcmVhdGVTbmFrZSIsImNyZWF0ZUZvb2QiLCJsb29wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGFpbnQiLCJjZW50ZXIiLCJnZXRBdmFpbGFibGVTbG90cyIsImF2YWlsYWJsZVNsb3RzIiwic2xvdCIsInMiLCJzbmFrZSIsInJhbmRvbSIsImJsb3dVcCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicGFpbnRDZWxsIiwidHh0IiwibngiLCJueSIsImNoZWNrQ29sbGlzaW9uIiwidGFpbCIsInBvcCIsInVuc2hpZnQiLCJzY29yZVRleHQiLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJmaWxsUmVjdCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsImFycmF5IiwicmV2ZXJzZSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJrZXlDb2RlIiwiaW5jbHVkZXMiLCJwcmV2ZW50RGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFlLE1BQU1BLEtBQU4sQ0FBWTtBQUN6QkMsYUFBVyxDQUFDQyxPQUFELEVBQVU7QUFDbkIsU0FBS0EsT0FBTCxHQUFlQSxPQUFmO0FBQ0EsU0FBS0MsTUFBTCxHQUFjRCxPQUFPLENBQUNFLG9CQUFSLENBQTZCLFFBQTdCLEVBQXVDLENBQXZDLENBQWQ7QUFDQSxTQUFLQyxXQUFMO0FBQ0EsU0FBS0MsU0FBTDtBQUVBLFNBQUtDLFVBQUwsR0FBa0JMLE9BQU8sQ0FBQ00sc0JBQVIsQ0FBK0IsbUJBQS9CLEVBQW9ELENBQXBELENBQWxCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQlAsT0FBTyxDQUFDTSxzQkFBUixDQUErQixpQkFBL0IsRUFBa0QsQ0FBbEQsQ0FBaEI7QUFDQSxTQUFLRSxPQUFMLEdBQWVSLE9BQU8sQ0FBQ00sc0JBQVIsQ0FBK0IsZ0JBQS9CLEVBQWlELENBQWpELENBQWY7QUFFQSxTQUFLRyxZQUFMLEdBQW9CLEtBQXBCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixDQUFqQjtBQUNBLFNBQUtDLGlCQUFMLEdBQXlCLENBQXpCO0FBQ0EsU0FBS0MsSUFBTCxHQUFZQyxJQUFJLENBQUNDLEdBQUwsRUFBWjtBQUNBLFNBQUtDLFVBQUw7QUFF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Q0ksY0FBRjtBQUNBLGFBQUtqRyxZQUFMLEdBQW9CLElBQXBCO0FBQ0Q7QUFDRixLQWZEO0FBZ0JEOztBQW5Sd0IiLCJmaWxlIjoiLi9qcy9zbmFrZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jYW52YXMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXTtcbiAgICB0aGlzLnNldHVwQ2FudmFzKCk7XG4gICAgdGhpcy5zZXR1cEdyaWQoKTtcblxuICAgIHRoaXMuYmVnaW5Nb2RhbCA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc25ha2UtYmVnaW4tbW9kYWwnKVswXTtcbiAgICB0aGlzLmVuZE1vZGFsID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzbmFrZS1lbmQtbW9kYWwnKVswXTtcbiAgICB0aGlzLmhpU2NvcmUgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NuYWtlLWhpLXNjb3JlJylbMF07XG5cbiAgICB0aGlzLmtleUlzUHJlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuYmFzZVNwZWVkID0gODtcbiAgICB0aGlzLnNwZWVkR2FpblBlckxldmVsID0gNDtcbiAgICB0aGlzLnRoZW4gPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuc25ha2VBcnJheTtcblxuICAgIHRoaXMuZGlyZWN0aW9uLCB0aGlzLmZvb2Q7XG5cbiAgICB0aGlzLnNjb3JlLCB0aGlzLmxldmVsLCB0aGlzLnNwZWVkO1xuICAgIHRoaXMubm93LCB0aGlzLnRoZW4sIHRoaXMuZWxhcHNlZCwgdGhpcy5tc1BlckZyYW1lO1xuXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmF0dGFjaENvbnRyb2xzKCk7XG4gIH1cblxuICBkb25lKCkge1xuICAgIHRoaXMuYmVnaW5Nb2RhbC5jbGFzc0xpc3QuYWRkKCdpbnZpc2libGUnKTtcbiAgICB0aGlzLmVuZE1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ludmlzaWJsZScpO1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cblxuICBjb3VudGRvd24oKSB7XG4gICAgaWYgKHRoaXMucGxheWluZykgcmV0dXJuO1xuXG4gICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmJlZ2luTW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJyk7XG4gICAgY29uc3QgdGV4dCA9IFszLCAyLCAxLCAnR28hJ107XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH0sIDFlMyAqIHRleHQubGVuZ3RoICsgMSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmJlZ2luTW9kYWwudGV4dENvbnRlbnQgPSB0ZXh0W2ldO1xuICAgICAgfSwgMWUzICogaSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29sb3IoY29sb3IpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29sb3IpWzBdKS5jb2xvcjtcbiAgfVxuXG4gIHNldHVwR3JpZCgpIHtcbiAgICBjb25zdCBpZGVhbENlbGwgPSB7IHdpZHRoOiAyMCwgaGVpZ2h0OiAyMCB9O1xuXG4gICAgY29uc3QgZ3JpZFdpZHRoID0gTWF0aC5yb3VuZCh0aGlzLndpZHRoIC8gaWRlYWxDZWxsLndpZHRoKTtcbiAgICBjb25zdCBjZWxsV2lkdGggPSB0aGlzLndpZHRoIC8gZ3JpZFdpZHRoO1xuXG4gICAgY29uc3QgZ3JpZEhlaWdodCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQgLyBpZGVhbENlbGwuaGVpZ2h0KTtcbiAgICBjb25zdCBjZWxsSGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyBncmlkSGVpZ2h0O1xuXG4gICAgY29uc3Qgc2xvdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyaWRXaWR0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdyaWRIZWlnaHQ7IGorKykge1xuICAgICAgICBzbG90cy5wdXNoKHsgeDogaSwgeTogaiB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmdyaWQgPSB7XG4gICAgICBzbG90cyxcbiAgICAgIHdpZHRoOiBncmlkV2lkdGgsXG4gICAgICBoZWlnaHQ6IGdyaWRIZWlnaHQsXG4gICAgICBjZWxsOiB7XG4gICAgICAgIHdpZHRoOiBjZWxsV2lkdGgsXG4gICAgICAgIGhlaWdodDogY2VsbEhlaWdodCxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgc2V0dXBDYW52YXMoKSB7XG4gICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICBjb25zdCByZWN0ID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgcmVjdFdpZHRoID0gcmVjdC53aWR0aDtcbiAgICBjb25zdCByZWN0SGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHJlY3RXaWR0aCAqIGRwcjtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSByZWN0SGVpZ2h0ICogZHByO1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gcmVjdFdpZHRoICsgJ3B4JztcbiAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSByZWN0SGVpZ2h0ICsgJ3B4JztcblxuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLmN0eC5zY2FsZShkcHIsIGRwcik7XG5cbiAgICB0aGlzLndpZHRoID0gcmVjdFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gcmVjdEhlaWdodDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5iZWdpbk1vZGFsLmNsYXNzTGlzdC5hZGQoJ2ludmlzaWJsZScpO1xuICAgIHRoaXMuZW5kTW9kYWwuY2xhc3NMaXN0LmFkZCgnaW52aXNpYmxlJyk7XG4gICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IFwicmlnaHRcIjtcbiAgICB0aGlzLnNjb3JlID0gMDtcbiAgICB0aGlzLmxldmVsID0gMDtcbiAgICB0aGlzLmluY3JlYXNlTGV2ZWwoKTtcbiAgICB0aGlzLmNyZWF0ZVNuYWtlKCk7XG4gICAgdGhpcy5jcmVhdGVGb29kKCk7XG4gICAgdGhpcy5sb29wID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMucGFpbnQoKSk7XG4gIH1cblxuICBpbmNyZWFzZUxldmVsKCkge1xuICAgIHRoaXMubGV2ZWwgKz0gMTtcbiAgICB0aGlzLnNwZWVkID0gdGhpcy5iYXNlU3BlZWQgKyB0aGlzLmxldmVsICogdGhpcy5zcGVlZEdhaW5QZXJMZXZlbDtcbiAgICB0aGlzLm1zUGVyRnJhbWUgPSAxMDAwIC8gdGhpcy5zcGVlZDtcbiAgfVxuXG4gIGNyZWF0ZVNuYWtlKCkge1xuICAgIHRoaXMuc25ha2VBcnJheSA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IDU7XG4gICAgY29uc3QgY2VudGVyID0ge1xuICAgICAgeDogfn4odGhpcy5ncmlkLndpZHRoIC8gMiksXG4gICAgICB5OiB+fih0aGlzLmdyaWQuaGVpZ2h0IC8gMiksXG4gICAgfVxuICAgIGZvcihsZXQgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB0aGlzLnNuYWtlQXJyYXkucHVzaCh7IHg6IGNlbnRlci54ICsgaSwgeTogY2VudGVyLnkgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXZhaWxhYmxlU2xvdHMoKSB7XG4gICAgY29uc3QgYXZhaWxhYmxlU2xvdHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JpZC5zbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ3JpZC5zbG90c1tpXTtcbiAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgdGhpcy5zbmFrZUFycmF5Lmxlbmd0aDsgcysrKSB7XG4gICAgICAgIGNvbnN0IHNuYWtlID0gdGhpcy5zbmFrZUFycmF5W3NdO1xuICAgICAgICBpZiAoc25ha2UueCAhPSBzbG90LnggJiYgc25ha2UueSAhPSBzbG90LnkpIHtcbiAgICAgICAgICBhdmFpbGFibGVTbG90cy5wdXNoKHNsb3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhdmFpbGFibGVTbG90cztcbiAgfVxuXG4gIGNyZWF0ZUZvb2QoKSB7XG4gICAgY29uc3Qgc2xvdHMgPSB0aGlzLmdldEF2YWlsYWJsZVNsb3RzKCk7XG4gICAgdGhpcy5mb29kID0gc2xvdHNbfn4oTWF0aC5yYW5kb20oKSAqIChzbG90cy5sZW5ndGggLSAxKSldO1xuICB9XG5cbiAgYmxvd1VwKGNlbGwpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmxvb3ApO1xuXG4gICAgZm9yIChsZXQgaSA9IGNlbGw7IGkgPCB0aGlzLnNuYWtlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucGFpbnRDZWxsKHRoaXMuc25ha2VBcnJheVtpXS54LCB0aGlzLnNuYWtlQXJyYXlbaV0ueSwgdGhpcy5nZXRDb2xvcignc25ha2UtY2VsbC1jb2xvcicpKTtcbiAgICB9XG5cbiAgICBpZiAoY2VsbCAhPSB0aGlzLnNuYWtlQXJyYXkubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBhaW50Q2VsbCh0aGlzLnNuYWtlQXJyYXlbY2VsbF0ueCwgdGhpcy5zbmFrZUFycmF5W2NlbGxdLnksIHRoaXMuZ2V0Q29sb3IoJ3NuYWtlLWRlYWQtY29sb3InKSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5ibG93VXAoY2VsbCArIDEpO1xuICAgICAgfSwgMjApO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIGxldCB0eHQgPSBcIldlYWsuXCI7XG4gICAgICBpZiAodGhpcy5zY29yZSA+PSAxMCAmJiB0aGlzLnNjb3JlIDwgMjApIHR4dCA9IFwiU3JzbHk/XCJcbiAgICAgIGlmICh0aGlzLnNjb3JlID49IDIwICYmIHRoaXMuc2NvcmUgPCAzMCkgdHh0ID0gXCJOb3QgYmFkIVwiXG4gICAgICBpZiAodGhpcy5zY29yZSA+PSAzMCAmJiB0aGlzLnNjb3JlIDwgNDApIHR4dCA9IFwiQXdlc29tZSFcIlxuICAgICAgaWYgKHRoaXMuc2NvcmUgPj0gNDAgJiYgdGhpcy5zY29yZSA8IDUwKSB0eHQgPSBcIkluc2FuZSFcIlxuICAgICAgaWYgKHRoaXMuc2NvcmUgPj0gNTAgJiYgdGhpcy5zY29yZSA8IDYwKSB0eHQgPSBcIldpY2tlZCFcIlxuICAgICAgaWYgKHRoaXMuc2NvcmUgPj0gNjAgJiYgdGhpcy5zY29yZSA8IDcwKSB0eHQgPSBcIk91dHN0YW5kaW5nIVwiXG4gICAgICBpZiAodGhpcy5zY29yZSA+PSA3MCkgdHh0ID0gXCJHZXQgYSBsaWZlLlwiXG4gICAgICB0aGlzLmhpU2NvcmUudGV4dENvbnRlbnQgPSAodHh0ICsgXCIgSGkgc2NvcmU6IFwiICsgdGhpcy5zY29yZSk7XG4gICAgICB0aGlzLmVuZE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmlzaWJsZScpO1xuXG4gICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwYWludCgpIHtcbiAgICB0aGlzLm5vdyA9IERhdGUubm93KCk7XG4gICAgdGhpcy5lbGFwc2VkID0gdGhpcy5ub3cgLSB0aGlzLnRoZW47XG4gICAgaWYgKHRoaXMuZWxhcHNlZCA+IHRoaXMubXNQZXJGcmFtZSkge1xuICAgICAgdGhpcy50aGVuID0gdGhpcy5ub3cgLSAodGhpcy5lbGFwc2VkICUgdGhpcy5tc1BlckZyYW1lKTtcbiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAgIGxldCBueCA9IHRoaXMuc25ha2VBcnJheVswXS54O1xuICAgICAgbGV0IG55ID0gdGhpcy5zbmFrZUFycmF5WzBdLnk7XG5cbiAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PSBcInJpZ2h0XCIpIG54Kys7XG4gICAgICBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PSBcImxlZnRcIikgbngtLTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09IFwidXBcIikgbnktLTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuZGlyZWN0aW9uID09IFwiZG93blwiKSBueSsrO1xuXG4gICAgICBpZiAobnggPD0gLTFcbiAgICAgICAgICB8fCBueCA+PSB0aGlzLmdyaWQud2lkdGhcbiAgICAgICAgICB8fCBueSA8PSAtMVxuICAgICAgICAgIHx8IG55ID49IHRoaXMuZ3JpZC5oZWlnaHRcbiAgICAgICAgICB8fCB0aGlzLmNoZWNrQ29sbGlzaW9uKG54LCBueSwgdGhpcy5zbmFrZUFycmF5KSkge1xuICAgICAgICAvLyBHYW1lIG92ZXJcbiAgICAgICAgdGhpcy5ibG93VXAoMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhaWw7XG4gICAgICBpZiAobnggPT0gdGhpcy5mb29kLnggJiYgbnkgPT0gdGhpcy5mb29kLnkpIHtcbiAgICAgICAgdGFpbCA9IHsgeDogbngsIHk6IG55IH07XG4gICAgICAgIHRoaXMuc2NvcmUrKztcbiAgICAgICAgaWYgKCEodGhpcy5zY29yZSAlIDEwKSkgdGhpcy5pbmNyZWFzZUxldmVsKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlRm9vZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFpbCA9IHRoaXMuc25ha2VBcnJheS5wb3AoKTtcbiAgICAgICAgdGFpbC54ID0gbng7IHRhaWwueSA9IG55O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNuYWtlQXJyYXkudW5zaGlmdCh0YWlsKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5wYWludENlbGwodGhpcy5zbmFrZUFycmF5W2ldLngsIHRoaXMuc25ha2VBcnJheVtpXS55LCB0aGlzLmdldENvbG9yKCdzbmFrZS1jZWxsLWNvbG9yJykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBhaW50Q2VsbCh0aGlzLmZvb2QueCwgdGhpcy5mb29kLnksIHRoaXMuZ2V0Q29sb3IoJ3NuYWtlLWZvb2QtY29sb3InKSk7XG4gICAgICBjb25zdCBzY29yZVRleHQgPSBcIkxldmVsOiBcIiArIHRoaXMubGV2ZWwgKyBcIiBTY29yZTogXCIgKyB0aGlzLnNjb3JlO1xuICAgICAgdGhpcy5jdHguZm9udCA9ICdub3JtYWwgMTJwdCBNZW5sbywgQ29uc29sYXMsIENvdXJpZXInO1xuICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5nZXRDb2xvcignc25ha2UtdGV4dC1jb2xvcicpO1xuICAgICAgdGhpcy5jdHguZmlsbFRleHQoc2NvcmVUZXh0LCA1LCB0aGlzLmhlaWdodCAtIDUpO1xuICAgICAgdGhpcy5rZXlJc1ByZXNzZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmxvb3AgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5wYWludCgpKTtcbiAgfVxuXG4gIHBhaW50Q2VsbCh4LCB5LCBjb2xvcikge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIHRoaXMuY3R4LmZpbGxSZWN0KHggKiB0aGlzLmdyaWQuY2VsbC53aWR0aCwgeSAqIHRoaXMuZ3JpZC5jZWxsLmhlaWdodCwgdGhpcy5ncmlkLmNlbGwud2lkdGgsIHRoaXMuZ3JpZC5jZWxsLmhlaWdodCk7XG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldENvbG9yKCdzbmFrZS1ib3JkZXItY29sb3InKTtcbiAgICB0aGlzLmN0eC5zdHJva2VSZWN0KHggKiB0aGlzLmdyaWQuY2VsbC53aWR0aCwgeSAqIHRoaXMuZ3JpZC5jZWxsLmhlaWdodCwgdGhpcy5ncmlkLmNlbGwud2lkdGgsIHRoaXMuZ3JpZC5jZWxsLmhlaWdodCk7XG4gIH1cblxuICBjaGVja0NvbGxpc2lvbih4LCB5LCBhcnJheSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXS54ID09IHggJiYgYXJyYXlbaV0ueSA9PSB5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXZlcnNlKCkge1xuICAgIGNvbnN0IHRhaWwgPSB0aGlzLnNuYWtlQXJyYXkubGVuZ3RoIC0gMTtcbiAgICBpZiAodGhpcy5zbmFrZUFycmF5W3RhaWxdLnggPCB0aGlzLnNuYWtlQXJyYXlbdGFpbC0xXS54KSB0aGlzLmRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICBlbHNlIGlmICh0aGlzLnNuYWtlQXJyYXlbdGFpbF0ueCA+IHRoaXMuc25ha2VBcnJheVt0YWlsLTFdLngpIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICBlbHNlIGlmICh0aGlzLnNuYWtlQXJyYXlbdGFpbF0ueSA8IHRoaXMuc25ha2VBcnJheVt0YWlsLTFdLnkpIHRoaXMuZGlyZWN0aW9uID0gJ3VwJztcbiAgICBlbHNlIGlmICh0aGlzLnNuYWtlQXJyYXlbdGFpbF0ueSA+IHRoaXMuc25ha2VBcnJheVt0YWlsLTFdLnkpIHRoaXMuZGlyZWN0aW9uID0gJ2Rvd24nO1xuICAgIHRoaXMuc25ha2VBcnJheS5yZXZlcnNlKCk7XG4gIH1cblxuICBhdHRhY2hDb250cm9scygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IGUua2V5Q29kZTtcblxuICAgICAgaWYgKCF0aGlzLmtleUlzUHJlc3NlZCkge1xuICAgICAgICBpZiAoa2V5ID09IDM3ICYmIHRoaXMuZGlyZWN0aW9uICE9IFwicmlnaHRcIikgdGhpcy5kaXJlY3Rpb24gPSBcImxlZnRcIjtcbiAgICAgICAgZWxzZSBpZihrZXkgPT0gMzggJiYgdGhpcy5kaXJlY3Rpb24gIT0gXCJkb3duXCIpIHRoaXMuZGlyZWN0aW9uID0gXCJ1cFwiO1xuICAgICAgICBlbHNlIGlmKGtleSA9PSAzOSAmJiB0aGlzLmRpcmVjdGlvbiAhPSBcImxlZnRcIikgdGhpcy5kaXJlY3Rpb24gPSBcInJpZ2h0XCI7XG4gICAgICAgIGVsc2UgaWYoa2V5ID09IDQwICYmIHRoaXMuZGlyZWN0aW9uICE9IFwidXBcIikgdGhpcy5kaXJlY3Rpb24gPSBcImRvd25cIjtcbiAgICAgICAgZWxzZSBpZihrZXkgPT0gNjcpIHRoaXMucmV2ZXJzZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoWzM3LCAzOCwgMzksIDQwLCA2N10uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMua2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/snake.js\n");

/***/ })

})